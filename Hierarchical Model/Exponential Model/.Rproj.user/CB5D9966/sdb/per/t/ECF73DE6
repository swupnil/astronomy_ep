{
    "contents" : "require(\"rstan\")\n\n#  ..... Compile Stan Code .....\nmodel1_fit <- stan_model(model_code = model1_code, model_name = \"Model 1\");\n\n# ...... Simulate the Data ......\nJ = 50;\nN = 1000;\nsub_data1 <- model1_sim(phi = 200, J = J, n.samp = N);\n\n#  ..... Priors .....\npri_mu_cav <- 200;\npri_sig_cav <- 20;\ninit_data <- list();\nfor(i in 1:4) { init_data[[i]] <- list(phi = pri_mu_cav, theta = rep(0, J));}\n\n# ...... EP Fit ....... \n#116.89 seconds with K = 5\n#95.4 seconds with K = 10\n#81.82 seconds with K = 25\n#72.34 seconds with K = 5; strong prior\n#85.7 seconds with K = 10; strong prior\n#126.97 seconds with K = 25; strong prior\nmodel1_EP_fit <- Model1_EP(fit = model1_fit, J = J, K = 10, data = sub_data1, S = 2, prior.Mu = pri_mu_cav, prior.Sig = pri_sig_cav, mc_iter = 1000, parallel = TRUE);\nmodel1_EP_fit\n\n# ...... MC Fit ....... \n#201.0 seconds\n#183.0 seconds; strong prior\ndata <- list(N = N*J, B = J, y = sub_data1$y, bin = sub_data1$bin, Mu_Cav = pri_mu_cav, Sig_Cav = pri_sig_cav);\nsystem.time(model1_MC_fit <- sampling(model1_fit, data = data, iter = 1000, chains = 4, init_data = init_data));\nmodel1_MC_fit\n",
    "created" : 1438188960877.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3101408644",
    "id" : "ECF73DE6",
    "lastKnownWriteTime" : 1438880921,
    "path" : "~/Library/Mobile Documents/com~apple~CloudDocs/School/Columbia/Research/Astronomy/Hierarchical Model/EP_Test/Model1_Test.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}